# GPU Tasker Node Agent env
# 复制到 /etc/gputasker/agent.env 并按节点填写

# Master 的上报接口
GPUTASKER_SERVER_URL=http://<master_host>:8888/api/v1/report_gpu/

# 可选：任务心跳上报接口（默认由 GPUTASKER_SERVER_URL 自动替换 /report_gpu/→/report_tasks/）
# GPUTASKER_TASKS_API_URL=http://<master_host>:8888/api/v1/report_tasks/

# 可选：是否上报“运行中任务心跳”（默认开启）
# GPUTASKER_REPORT_TASKS=1

# 可选：node 侧运行任务元数据目录（默认 ~/.gputasker/running_tasks）
# GPUTASKER_RUNNING_TASKS_DIR=~/.gputasker/running_tasks

# 在 Master 管理后台添加/查看 GPU服务器 获取 report_token
GPUTASKER_AGENT_TOKEN=<replace_with_report_token>

# 上报间隔（秒）
GPUTASKER_REPORT_INTERVAL=30

# 请求超时（秒）
GPUTASKER_REQUEST_TIMEOUT=5

# 可选：连续失败多少次后自动退出（0 表示永不自动退出）
# 用于 Master 停服/停用时让 agent 自行停止（适合与 systemd Restart=on-failure 搭配）
GPUTASKER_EXIT_AFTER_CONSECUTIVE_FAILURES=0

# 日志级别：DEBUG/INFO/WARNING/ERROR
GPUTASKER_AGENT_LOGLEVEL=INFO
